(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),c=t.n(u),o=t(12),i=t(2),l=t(3),m=t.n(l),s="/api/persons",f=function(){return m.a.get(s).then(function(e){return e.data})},d=function(e){return m.a.post(s,e).then(function(e){return e.data})},h=function(e,n){return m.a.put("".concat(s,"/").concat(e),n).then(function(e){return e.data})},v=function(e){return m.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},p=(t(38),function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{onChange:e.handleFilter}))}),b=function(e){var n=e.message,t=e.success;return null===n||""===n?null:!0===t?r.a.createElement("p",{className:"success"},n):r.a.createElement("p",{className:"error"},n)},E=function(e){var n=e.person,t=e.handleRemove;return r.a.createElement("p",null,n.name," ",n.number,r.a.createElement("button",{value:n.id,onClick:t},"Poista"))},g=function(e){var n=e.persons,t=e.handleRemove;return n.map(function(e){return r.a.createElement(E,{key:e.name,person:e,handleRemove:t})})},j=function(e){var n=e.newName,t=e.newNumber,a=e.addName,u=e.handleNameChange,c=e.handleNumberChange;return r.a.createElement("form",{onSubmit:a},r.a.createElement("fieldset",null,r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n,onChange:u})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:t,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")),r.a.createElement("div",null)))},O=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),m=l[0],s=l[1],E=Object(a.useState)(""),O=Object(i.a)(E,2),N=O[0],w=O[1],S=Object(a.useState)(t),C=Object(i.a)(S,2),k=C[0],L=C[1],y=Object(a.useState)(""),R=Object(i.a)(y,2),H=R[0],P=R[1],x=Object(a.useState)(!0),F=Object(i.a)(x,2),J=F[0],V=F[1];Object(a.useEffect)(function(){f().then(function(e){u(e),L(e)})},[]);var B=function(e,n){V(n),P(e),setTimeout(function(){P(null)},5e3)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(p,{handleFilter:function(e){var n=t.filter(function(n){return n.name.toLocaleLowerCase().indexOf(e.target.value.toLocaleLowerCase())>-1});L(n)}}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(b,{message:H,success:J}),r.a.createElement(j,{newName:m,newNumber:N,addName:function(e){if(e.preventDefault(),""!==m){var n=t.find(function(e){return e.name===m});if(void 0===n||m!==n.name)d({name:m,number:N}).then(function(e){u(t.concat(e)),L(t.concat(e)),B("Lis\xe4ttiin ".concat(m,"."),!0)}),s(""),w("");else{B("Henkil\xf6n ".concat(m," numero korvattiin uudella."),!0);var a=Object(o.a)({},n,{number:N});h(n.id,a).then(function(e){u(t.map(function(t){return n.name!==t.name?t:e})),L(t.map(function(t){return n.name!==t.name?t:e}))}).catch(function(e){console.log("Virhe poistossa:",e),B("Henkil\xf6 on poistettu",!1)})}}},handleNumberChange:function(e){w(e.target.value)},handleNameChange:function(e){s(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(g,{persons:k,handleRemove:function(e){var n=e.target.value;v(n).then(function(e){u(t.filter(function(e){return e.id.toString()!==n.toString()})),L(t.filter(function(e){return e.id.toString()!==n.toString()})),B("Poistettiin henkil\xf6 onnistuneesti.",!0)}).catch(function(e){console.log("Virhe poistossa:",e),B("Henkil\xf6 on jo poistettu",!1)})}}))};c.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.ce48d47d.chunk.js.map